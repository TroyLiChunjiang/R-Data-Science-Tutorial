---
title: "R数据科学教程"
author: "Fattroy胖春"
date: "2022年2月"
output: 
  ioslides_presentation:
    logo: ../theme/Fattroy.png
    css: ../theme/mycss.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = TRUE, warning = FALSE, error = TRUE)
```

# R语言基本语法

## 【一】R语言数学运算

作为一门主要应用于统计学和数据分析的语言，R最基本的功能就是进行各种数学计算，如：

```{r}
(1 + 1 - 2 * 3) / 4
```

乘方运算则采用`^`运算符

```{r}
2 ^ 3
```

---

`%%`和`%/%`运算符则分别用于求余和求整除

```{r}
7 %% 2
7 %/% 2
```

**注：**
可能你已经注意到了，我在书写R语言相关运算的时候，总是习惯在运算符的两边各加上一个空格，这当然是不必须的，但是我推荐保持一个良好的代码书写规范，可以让你的代码看起来更加整洁美观，也能避免一些不常发生的编码问题。

---

R语言同样支持科学计数法：

```{r}
1.1E11
-1.1E-11
```
表示科学计数法的`E`不是一个运算符而是一种常数表示，`E`两侧不能加空格，否则会被认为是一个变量。

```{r}
1.1 E 11
```

---

R语言中还有一些常数
```{r}
pi

Inf

NaN
```


## 【一】显示输出

作为一种尽可能简化操作的解释性语言，R语言的输出可以通过直接在命令行键入而完成：
```{r}
pi

1+1

"Hello World"
```

---

当我们需要在脚本中进行输出时，往往采用`print`函数来实现。实际上，在我们直接键入一个表达式的时候，R语言会计算表达式的值并自动调用`print`函数。因此，前面的几个例子实际上等同于：
```{r}
print(pi)

print(1+1)

print("Hello World")
```

---

`print`函数还能够自动识别输入的数据类型并且进行相应的输出：

```{r}
mat <- matrix(c(1,2,3,4,5,6), nrow = 2, ncol = 3)
print(mat)

df <- data.frame(mat)
rownames(df) <- c('row1','row2')
colnames(df) <- c('col1', 'col2', 'col3')
print(df)
```

---

但是，`print`函数并不能想我们所期待的一样实现并列输出，例如：

```{r}
a <- 1 + 2
print("1 + 2 = ", a)
print(a, " = 1 + 2")
```

我们可以选择将他们组合起来进行输出，但是往往看起来会很奇怪：

```{r}
print(c("1 + 2 = ", a))
```

---

最好的办法是利用`cat`函数进行组合输出：

```{r}
cat("1 + 2 =", a)

cat(a, "= 1 + 2")

cat("Hello World", "R", "!")
```

在官网文档中，`cat`被认为是"Concentrate And prinT"（集中输出）的缩写，虽然感觉有点怪……

---

`cat`函数会自动在几个部分之间添加空格，如果不希望用空格作为分隔符，可以修改参数`sep`：

```{r}
cat("1 + 2 = ", a, sep = '')

cat(1, 2, 3, sep = ',')
```

此外，`cat`函数不会自动在尾部添加换行符，如果需要换行可以设置参数`fill = TRUE`

```{r}
cat("1 + 2 =", a, fill = TRUE)
```


---

`cat`函数可以输出简单的组合，但是不能用来输出列表或者数据框：
```{r}
cat(c(1:9))
cat(matrix(c(1:9), nrow = 3, ncol = 3))
cat(list(1:9))
cat(data.frame(c(1:9), nrow = 3, ncol = 3))
```

## 【二】数据类型

R语言中有如下的数据类型

## 【二】变量

R语言中，变量是

在R语言中，变量的赋值使用的是赋值运算符`<-`

```{r}
a <- 1
b <- 2
c <- a + b
print(c)
```

和其他编程语言相比较，R语言中的赋值有以下特点：

  - 无需声明变量或者类型
  - 



